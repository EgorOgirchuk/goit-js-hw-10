{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nimport iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst input = document.querySelector('#datetime-picker');\n\nconst button = document.querySelector('[data-start]');\nbutton.disabled = true;\n\nflatpickr('#datetime-picker', {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    button.disabled = false;\n\n    currentDate = new Date();\n\n    userSelectetdDate = new Date(selectedDates[0]);\n\n    if (userSelectetdDate.getTime() < currentDate.getTime()) {\n      iziToast.error({\n        title: 'Hey',\n        message: 'Please choose a date in the future',\n        position: 'topRight',\n      });\n      button.disabled = true;\n      return;\n    }\n  },\n});\n\nlet userSelectetdDate = null;\nlet currentDate = null;\n\nbutton.addEventListener('click', () => {\n  let intervalId = setInterval(() => {\n    const diff = userSelectetdDate.getTime() - new Date().getTime();\n    input.disabled = true;\n\n    if (diff <= 0) {\n      clearInterval(intervalId);\n      input.disabled = false;\n      button.disabled = false;\n      return;\n    }\n    const { days, hours, minutes, seconds } = convertMs(diff);\n\n    document.querySelector('[data-days]').innerHTML = addLeadingZero(days);\n    document.querySelector('[data-hours]').innerHTML = addLeadingZero(hours);\n    document.querySelector('[data-minutes]').innerHTML =\n      addLeadingZero(minutes);\n    document.querySelector('[data-seconds]').innerHTML =\n      addLeadingZero(seconds);\n  }, 1000);\n  button.disabled = true;\n});\n\nconst addLeadingZero = num => num.toString().padStart(2, '0');\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n"],"names":["input","button","flatpickr","selectedDates","currentDate","userSelectetdDate","iziToast","intervalId","diff","days","hours","minutes","seconds","convertMs","addLeadingZero","num","ms"],"mappings":"+IAOA,MAAMA,EAAQ,SAAS,cAAc,kBAAkB,EAEjDC,EAAS,SAAS,cAAc,cAAc,EACpDA,EAAO,SAAW,GAElBC,EAAU,mBAAoB,CAC5B,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CAOrB,GANAF,EAAO,SAAW,GAElBG,EAAc,IAAI,KAElBC,EAAoB,IAAI,KAAKF,EAAc,CAAC,CAAC,EAEzCE,EAAkB,QAAO,EAAKD,EAAY,QAAO,EAAI,CACvDE,EAAS,MAAM,CACb,MAAO,MACP,QAAS,qCACT,SAAU,UAClB,CAAO,EACDL,EAAO,SAAW,GAClB,MACD,CACF,CACH,CAAC,EAED,IAAII,EAAoB,KACpBD,EAAc,KAElBH,EAAO,iBAAiB,QAAS,IAAM,CACrC,IAAIM,EAAa,YAAY,IAAM,CACjC,MAAMC,EAAOH,EAAkB,QAAO,EAAK,IAAI,KAAI,EAAG,UAGtD,GAFAL,EAAM,SAAW,GAEbQ,GAAQ,EAAG,CACb,cAAcD,CAAU,EACxBP,EAAM,SAAW,GACjBC,EAAO,SAAW,GAClB,MACD,CACD,KAAM,CAAE,KAAAQ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAI,EAExD,SAAS,cAAc,aAAa,EAAE,UAAYM,EAAeL,CAAI,EACrE,SAAS,cAAc,cAAc,EAAE,UAAYK,EAAeJ,CAAK,EACvE,SAAS,cAAc,gBAAgB,EAAE,UACvCI,EAAeH,CAAO,EACxB,SAAS,cAAc,gBAAgB,EAAE,UACvCG,EAAeF,CAAO,CACzB,EAAE,GAAI,EACPX,EAAO,SAAW,EACpB,CAAC,EAED,MAAMa,EAAiBC,GAAOA,EAAI,SAAU,EAAC,SAAS,EAAG,GAAG,EAE5D,SAASF,EAAUG,EAAI,CAMrB,MAAMP,EAAO,KAAK,MAAMO,EAAK,KAAG,EAC1BN,EAAQ,KAAK,MAAOM,EAAK,MAAO,IAAI,EACpCL,EAAU,KAAK,MAAQK,EAAK,MAAO,KAAQ,GAAM,EACjDJ,EAAU,KAAK,MAASI,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAP,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}